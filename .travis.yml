language: objective-c
osx_image: xcode10.2
env:
- DESTINATION="OS=8.0,name=iPhone 6" SCHEME="PeriapseNetworking-Universal" SDK=iphoneos

before_install:
- gem install xcpretty --quiet

script:
- xcodebuild -target "PeriapseNetworking" -configuration Release -arch arm64 -arch armv7 -arch armv7s only_active_arch=no defines_module=yes -sdk "iphoneos"
- xcodebuild -target "PeriapseNetworking" -configuration Release -arch x86_64 -arch i386 only_active_arch=no defines_module=yes -sdk "iphonesimulator"

